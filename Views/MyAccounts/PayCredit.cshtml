@model MScBank.ViewModels.TransferFundsViewModel
@using MScBank.Models
@{
    ViewBag.Title = "PayCredit";
}
@{ 
    BankAccountBase intoAccount;

    using(var _context = new ApplicationDbContext()) {

        intoAccount = _context.Accounts.Where(a => a.SortCode == Model.ToAccountSC)
                                        .Single(a => a.AccountNumber == Model.ToAccountAcNum);
    }
}

<h2>Pay Credit</h2>

<div class="row">
    <div class="col-md-6">
        <p>Sending money FROM account : </p>
        <p>Name of account : @Model.FromAccount.Name</p>
        <p>Sort code : @Model.FromAccount.SortCode</p>
        <p>Account Number : @Model.FromAccount.AccountNumber</p>
        <p>Balance : @Model.FromAccount.Balance</p>
        <br />
    </div>
    <div class="col-md-6">
        <p>Sending money TO account : </p>
        <p>Name of account : @intoAccount.Name</p>
        <p>Sort code : @intoAccount.SortCode</p>
        <p>Account Number : @intoAccount.AccountNumber</p>
        <p>Balance : @intoAccount.Balance</p>
        <br />
    </div>
</div>
<div class="row">
    @using (Html.BeginForm("Pay", "MyAccounts")) {
        @Html.LabelFor(a => a.Amount)
        @Html.TextBoxFor(a => a.Amount, new { @class = "form-control" })
        @Html.ValidationMessageFor(a => a.Amount)
    }
    
</div>

<br />


