@model MScBank.ViewModels.MyAccountsViewmodel
@{
    ViewBag.Title = "Index";
}

<h1>My Accounts</h1>

<br /> <br />
<div class="row">
    <div class="col-md-6">
        @if (Model == null) {
            <p class="text-warning">Sorry, you have no open accounts at the moment!</p>
            <p>Why don't you open an account with us now!</p>
            @Html.ActionLink("Open an acccount", "Index", "NewAccount")
        } else {
            <table class="table-bordered table-hover table-responsive center-block">
                <thead>
                    <tr class="padTablerow">
                        <th class="padTablerow">Account</th>
                        <th class="padTablerow">Type</th>
                        <th class="padTablerow">Balance</th>
                        <th class="padTablerow">Details</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var account in Model.MyAccounts) {

                        string balanceColor = account.Balance > 0 ? "text-success" : "text-danger";
                        
                        <tr>
                            <td class="padTablerow">@account.Name</td>
                            <td class="padTablerow">@account.Type</td>
                            <td class="padTablerow @balanceColor">@account.Balance</td>
                            <td class="padTablerow tex">@Html.ActionLink("Details", "AccountDetails", "MyAccounts", new { accountId = account.Id }, new { @class = "btn btn-primary btn-sm addMargin" })</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
    <div class="md-col-6">
        <img src="~/Content/Pics/MyAccountsIndexPic.jpg" class="img-responsive img-rounded" width="500" />
    </div>
</div>



